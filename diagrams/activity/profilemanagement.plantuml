@startuml
skinparam defaultFontName Tajawal
start
:عرض \`profile.php\`;
:جلب البيانات الحالية للمشرف من قاعدة البيانات;

fork
  partition "تعديل البيانات الشخصية" {
    :تعديل \`full_name\` أو \`phone\`;
    :الضغط على حفظ;
    if (البيانات المدخلة صالحة؟) then (نعم)
      :تحديث السجل في قاعدة البيانات;
      :عرض رسالة نجاح;
    else (لا)
      :عرض رسالة خطأ;
    endif
  }
fork again
  partition "تعديل كلمة المرور" {
    :إدخال كلمة المرور الحالية والجديدة وتأكيد الجديدة;
    :الضغط على حفظ كلمة المرور;
    if (كلمة المرور الجديدة صالحة ومطابقة؟) then (نعم)
      :التحقق من كلمة المرور الحالية في قاعدة البيانات;
      if (كلمة المرور الحالية صحيحة؟) then (نعم)
        :تحديث حقل \`password\` في قاعدة البيانات;
        :عرض رسالة نجاح;
      else (لا)
        :عرض رسالة "كلمة المرور الحالية غير صحيحة";
      endif
    else (لا)
      :عرض رسالة "كلمة المرور غير مطابقة أو غير صالحة";
    endif
  }
end fork
stop
@enduml