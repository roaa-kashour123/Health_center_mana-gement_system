@startuml
skinparam defaultFontName Tajawal
start
:طلب \`reports.php\`;
:جلب بيانات التقارير الملخصة (إحصائيات الأعداد، إلخ);
:عرض التقارير الملخصة في الصفحة;

if (النقر على زر "تصدير CSV"؟) then (نعم)
  :بدء عملية التصدير;
  :جلب مجموعات البيانات المطلوبة (ملخص، موظفين، مرضى);
  :تكوين محتوى ملف CSV;
  :تنزيل ملف \`.csv\` إلى جهاز المشرف;
else (لا)
  :البقاء على صفحة العرض;
endif
stop
@enduml